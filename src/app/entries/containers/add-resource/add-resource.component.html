<div class="header">
  <mat-toolbar>
      <span><button mat-button routerLink="/">Cancel</button></span>
      <span>New Photo</span>
      <span *ngIf="!($pending | async)">
      <button
        mat-button
        (click)="submit(this.form.value)">Save</button>
      </span>
      <span *ngIf="$pending | async">
        <mat-spinner
        style="margin:0 auto;"
        class="example-margin"
        [color]="primary"
        [mode]="indeterminate"
        [diameter]="22">
      </mat-spinner>
  </span>
  </mat-toolbar>
</div>

<div class="padding">
  <form [formGroup]="form" class="list">
    <mat-form-field>
        <textarea
          rows="5"
          matInput
          placeholder="Write a caption... (Optional)"
          formControlName="caption">
          </textarea>
      </mat-form-field>
      <mat-form-field>
          <input
          matInput
          (click)="showModal(true)"
          placeholder="Add Location (Optional)"
          formControlName="locationName">
          <button
            mat-button
            matSuffix
            mat-icon-button
            (click)='clearLocation()'>
            <mat-icon>close</mat-icon>
          </button>
      </mat-form-field>
  </form>

  <mat-chip-list>
    <mat-chip
      *ngFor="let location of $locations | async"
      (click)="setLocation(location)">
      {{location.name}}
    </mat-chip>
  </mat-chip-list>
</div>

<app-add-location
  *ngIf="toggleModal"
  [locations]="$locations | async"
  (selectedLocation)="setLocation($event)"
  (searchKeyword)="searchKeyword($event)"
  (close)="closeModal($event)">
</app-add-location>